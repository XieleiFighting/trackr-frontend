<div class="row">
    <div class="col-sm-12">
        <h1 translate="PAGES.SUPERVISOR.VACATION.TITLE"></h1>
    </div>

    <div class="col-sm-12">

        <table class="table">
            <thead>
                <tr>
                    <th translate="VACATION_REQUEST.INTERVAL"></th>
                    <th translate="VACATION_REQUEST.NUMBER_OF_DAYS"></th>
                    <th translate="VACATION_REQUEST.SUBMITTED"></th>
                    <th translate="VACATION_REQUEST.EMPLOYEE"></th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="request in pendingRequests">
                    <td>{{request.startDate | date:'dd.MM.yyyy' }} - {{request.endDate | date:'dd.MM.yyyy'}}</td>
                    <td>{{request.numberOfDays}}</td>
                    <td>{{request.submissionTime | date:'dd.MM.yyyy HH:mm:ss'}}</td>
                    <td>{{request.employee.firstName}} {{request.employee.lastName}}</td>
                    <td>
                        <button type="button" ng-show="request.employee.id !== principal.id" ng-click="approve(request)" class="btn btn-xs btn-primary" translate="ACTIONS.APPROVE"></button>
                        <button type="button" ng-show="request.employee.id !== principal.id" ng-click="reject(request)" class="btn btn-xs btn-warning" translate="ACTIONS.REJECT"></button>
                    </td>
                </tr>
            </tbody>
        </table>

        <uib-tabset>
            <uib-tab heading="{{ 'VACATION_REQUEST.APPROVED' | translate }}">
                <table class="table-bordered table table-condensed">
                    <thead>
                        <tr>
                            <th translate="VACATION_REQUEST.INTERVAL"></th>
                            <th translate="VACATION_REQUEST.NUMBER_OF_DAYS"></th>
                            <th translate="VACATION_REQUEST.SUBMITTED"></th>
                            <th translate="VACATION_REQUEST.APPROVAL_DATE"></th>
                            <th translate="VACATION_REQUEST.EMPLOYEE"></th>
                            <th translate="VACATION_REQUEST.APPROVER"></th>
                            <th translate="ACTIONS.ACTIONS"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="request in approvedRequests">
                            <td>{{request.startDate | date:'dd.MM.yyyy' }} - {{request.endDate | date:'dd.MM.yyyy'}}</td>
                            <td>{{request.numberOfDays}}</td>
                            <td>{{request.submissionTime | date:'dd.MM.yyyy HH:mm:ss'}}</td>
                            <td>{{request.approvalDate | date:'dd.MM.yyyy HH:mm:ss'}}</td>
                            <td>{{request.employee.firstName}} {{request.employee.lastName}}</td>
                            <td>
                                <span ng-show="request.approver">
                                    {{request.approver.firstName + ' ' + request.approver.lastName}}
                                </span>
                                <span ng-show="!request.approver" translate="VACATION_REQUEST.APPROVER_SYSTEM"></span>
                            </td>
                            <td>
                                <button ng-click="confirmDelete(request)" ng-show="request.employee.id !== principal.id"
                                        type="button" class="btn btn-default btn-xs">
                                    <span class="glyphicon glyphicon-trash"></span>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </uib-tab>
            <uib-tab heading="{{ 'VACATION_REQUEST.REJECTED' | translate }}">
                <table class="table-bordered table table-condensed">
                    <thead>
                        <tr>
                            <th translate="VACATION_REQUEST.INTERVAL"></th>
                            <th translate="VACATION_REQUEST.NUMBER_OF_DAYS"></th>
                            <th translate="VACATION_REQUEST.SUBMITTED"></th>
                            <th translate="VACATION_REQUEST.APPROVAL_DATE"></th>
                            <th translate="VACATION_REQUEST.EMPLOYEE"></th>
                            <th translate="VACATION_REQUEST.APPROVER"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="request in rejectedRequests">
                            <td>{{request.startDate | date:'dd.MM.yyyy' }} - {{request.endDate | date:'dd.MM.yyyy'}}</td>
                            <td>{{request.numberOfDays}}</td>
                            <td>{{request.submissionTime | date:'dd.MM.yyyy HH:mm:ss'}}</td>
                            <td>{{request.approvalDate | date:'dd.MM.yyyy HH:mm:ss'}}</td>
                            <td>{{request.employee.firstName}} {{request.employee.lastName}}</td>
                            <td>
                                <span ng-show="request.approver">
                                    {{request.approver.firstName + ' ' + request.approver.lastName}}
                                </span>
                                <span ng-show="!request.approver && request.status !== 'PENDING'" translate="VACATION_REQUEST.APPROVER_SYSTEM"></span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </uib-tab>
        </uib-tabset>

    </div>
</div>